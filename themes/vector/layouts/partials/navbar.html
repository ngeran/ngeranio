<nav class="bg-gray-800 text-white fixed w-full top-0 z-50 shadow-lg">
    <div class="container mx-auto px-4 py-3 flex justify-between items-center">
      <!-- Logo -->
      <a href="/" class="text-lg font-bold">
        YourLogo
      </a>

      <!-- Hamburger Menu (Mobile) -->
      <button id="menu-toggle" class="block md:hidden text-white focus:outline-none">
        <svg class="h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
        </svg>
      </button>

      <!-- Menu -->
      <div id="menu" class="hidden md:flex flex-col md:flex-row md:items-center space-y-2 md:space-y-0 md:space-x-4">
        {{ range .Site.Menus.main }}
        <div class="relative group">
          <!-- Top-level Menu Item with Chevron -->
          <a href="{{ .URL }}" class="nav-item-dropdown flex items-center gap-1 px-3 py-2 rounded-md hover:bg-gray-700 transition-all duration-200">
            {{ .Name }}
            {{ if .Children }}
            <svg class="w-4 h-4 chevron-icon transition-transform duration-200" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
            </svg>
            {{ end }}
          </a>

          <!-- Submenu with Enhanced Styling -->
          {{ if .Children }}
          <div class="dropdown-menu opacity-0 invisible group-hover:opacity-100 group-hover:visible absolute left-0 mt-2 w-56 rounded-xl shadow-2xl backdrop-blur-xl bg-gray-700/95 border border-gray-600/50 transform translate-y-2 group-hover:translate-y-0 transition-all duration-300 ease-out z-50">
            <div class="py-2">
              {{ range .Children }}
              <a href="{{ .URL }}" class="dropdown-item flex items-center gap-3 px-4 py-3 text-gray-100 hover:bg-gradient-to-r hover:from-cyan-500/20 hover:to-blue-500/20 hover:text-cyan-400 transition-all duration-200 group/item">
                <svg class="w-4 h-4 text-gray-500 group-hover/item:text-cyan-400 transition-colors duration-200" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
                <span class="flex-1">{{ .Name }}</span>
                <svg class="w-3 h-3 text-gray-600 group-hover/item:text-cyan-400 opacity-0 group-hover/item:opacity-100 -translate-x-2 group-hover/item:translate-x-0 transition-all duration-200" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                </svg>
              </a>
              {{ end }}
            </div>
          </div>
          {{ end }}
        </div>
        {{ end }}
      </div>
    </div>
  </nav>


  <script>
    document.addEventListener("DOMContentLoaded", function () {
        const menuToggle = document.getElementById("menu-toggle");
        const menu = document.getElementById("menu");

        menuToggle.addEventListener("click", function () {
          menu.classList.toggle("hidden");
        });

        // Add keyboard navigation support
        document.querySelectorAll('.nav-item-dropdown').forEach(item => {
          item.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
              e.preventDefault();
              const dropdown = item.nextElementSibling;
              if (dropdown && dropdown.classList.contains('dropdown-menu')) {
                dropdown.classList.toggle('opacity-0');
                dropdown.classList.toggle('invisible');
              }
            }
          });
        });
      });

  </script>
