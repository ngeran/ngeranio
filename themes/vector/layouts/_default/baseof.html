<!DOCTYPE html>
<html lang="{{ site.Language.LanguageCode }}" dir="{{ or site.Language.LanguageDirection `ltr` }}" class="scroll-smooth">
<head>
{{ partial "head.html" . }}
</head>
<body class="bg-dust-800">

  <!-- ============================================ -->
  <!-- FIXED TOP NAVIGATION BAR                        -->
  <!-- ============================================ -->
  <nav class="fixed top-0 left-0 right-0 z-50 bg-dust-800 border-b border-gray-700 mb-4">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center h-16">

        <!-- Logo with Separator -->
        <div class="flex items-center">
          <a href="/" class="flex items-center gap-3">
            <div class="flex items-center">
              <span class="text-lg font-bold text-gray-100">ngeran</span>
              <span class="text-nord-frost-pale">[</span>
              <span class="text-nord-aurora-yellow">io</span>
              <span class="text-nord-frost-pale">]</span>
            </div>
          </a>
          <!-- Separator after logo -->
          <div class="navbar-separator ml-6"></div>
        </div>

        <!-- Desktop Navigation -->
        <div class="hidden lg:flex lg:items-center">
          {{ range .Site.Menus.main.ByWeight }}
            {{ if .HasChildren }}
              <!-- Dropdown Menu with Grid Icon -->
              <div class="relative group">
                <a href="{{ .URL }}" class="nav-link flex items-center gap-2 px-4 py-3 text-gray-100 hover:bg-dust-900 hover:text-moon rounded-lg transition-all duration-200" style="text-decoration: none; font-size: 1rem;">
                  <svg class="w-5 h-5 text-moon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M9 13C9.55228 13 10 12.5523 10 12C10 11.4477 9.55228 11 9 11C8.44772 11 8 11.4477 8 12C8 12.5523 8.44772 13 9 13Z" fill="currentColor"></path>
                    <path d="M12 13C12.5523 13 13 12.5523 13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13Z" fill="currentColor"></path>
                    <path d="M15 13C15.5523 13 16 12.5523 16 12C16 11.4477 15.5523 11 15 11C14.4477 11 14 11.4477 14 12C14 12.5523 14.4477 13 15 13Z" fill="currentColor"></path>
                    <path d="M18 13C18.5523 13 19 12.5523 19 12C19 11.4477 18.5523 11 18 11C17.4477 11 17 11.4477 17 12C17 12.5523 17.4477 13 18 13Z" fill="currentColor"></path>
                    <path d="M12 7C12.5523 7 13 6.55228 13 6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6C11 6.55228 11.4477 7 12 7Z" fill="currentColor"></path>
                    <path d="M12 10C12.5523 10 13 9.55228 13 9C13 8.44772 12.5523 8 12 8C11.4477 8 11 8.44772 11 9C11 9.55228 11.4477 10 12 10Z" fill="currentColor"></path>
                    <path d="M12 16C12.5523 16 13 15.5523 13 15C13 14.4477 12.5523 14 12 14C11.4477 14 11 14.4477 11 15C11 15.5523 11.4477 16 12 16Z" fill="currentColor"></path>
                    <path d="M12 19C12.5523 19 13 18.5523 13 18C13 17.4477 12.5523 17 12 17C11.4477 17 11 17.4477 11 18C11 18.5523 11.4477 19 12 19Z" fill="currentColor"></path>
                    <path d="M6 13C6.55228 13 7 12.5523 7 12C7 11.4477 6.55228 11 6 11C5.44772 11 5 11.4477 5 12C5 12.5523 5.44772 13 6 13Z" fill="currentColor"></path>
                  </svg>
                  <span class="capitalize">{{ .Name }}</span>
                </a>

                <!-- Mega Menu Dropdown -->
                <div class="megamenu-dropdown absolute left-1/2 -translate-x-1/2 top-full mt-3 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-300 ease-out transform translate-y-2 group-hover:translate-y-0 z-50" style="width: 400px;">
                  <div class="bg-dust-800 shadow-2xl overflow-hidden">
                    <!-- Header -->
                    <div class="px-6 py-4 border-b border-gray-700/50 bg-gradient-to-r from-[#5e81ac]/10 to-[#81a1c1]/10">
                      <h3 class="text-lg font-semibold text-moon">{{ .Name }}</h3>
                      <p class="text-sm text-dust-400 mt-1">Routing protocols study materials</p>
                    </div>

                    <!-- Content List -->
                    <div class="p-2">
                      {{ range .Children }}
                        <a href="{{ .URL }}" class="group/item flex items-center gap-4 px-4 py-3 hover:bg-dust-900 transition-all duration-200 border-b border-gray-700/50 menu-item-border">
                          <!-- Icon -->
                          <div class="w-10 h-10 flex items-center justify-center">
                            {{ if eq .Identifier "ospf" }}
                              <svg class="w-5 h-5 text-nord-frost-pale group-hover/item:text-moon group-hover/item:scale-110 transition-all duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                              </svg>
                            {{ else if eq .Identifier "bgp" }}
                              <svg class="w-5 h-5 text-nord-frost-pale group-hover/item:text-moon group-hover/item:scale-110 transition-all duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                              </svg>
                            {{ else if eq .Identifier "mpls" }}
                              <svg class="w-5 h-5 text-nord-frost-pale group-hover/item:text-moon group-hover/item:scale-110 transition-all duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path>
                              </svg>
                            {{ else }}
                              <svg class="w-5 h-5 text-nord-frost-pale group-hover/item:text-moon group-hover/item:scale-110 transition-all duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                              </svg>
                            {{ end }}
                          </div>

                          <!-- Content -->
                          <div class="flex-1">
                            <h4 class="font-medium text-gray-100 group-hover/item:text-moon transition-colors duration-200">{{ .Name }}</h4>
                          </div>

                          <!-- Grid Icon -->
                          <svg class="w-5 h-5 text-gray-600 group-hover/item:text-moon group-hover/item:scale-110 transition-all duration-200" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M7 9C7.55228 9 8 8.55228 8 8C8 7.44772 7.55228 7 7 7C6.44772 7 6 7.44772 6 8C6 8.55228 6.44772 9 7 9Z" fill="currentColor"></path>
                            <path d="M9 11C9.55228 11 10 10.5523 10 10C10 9.44772 9.55228 9 9 9C8.44772 9 8 9.44772 8 10C8 10.5523 8.44772 11 9 11Z" fill="currentColor"></path>
                            <path d="M11 13C11.5523 13 12 12.5523 12 12C12 11.4477 11.5523 11 11 11C10.4477 11 10 11.4477 10 12C10 12.5523 10.4477 13 11 13Z" fill="currentColor"></path>
                            <path d="M9 15C9.55228 15 10 14.5523 10 14C10 13.4477 9.55228 13 9 13C8.44772 13 8 13.4477 8 14C8 14.5523 8.44772 15 9 15Z" fill="currentColor"></path>
                            <path d="M7 17C7.55228 17 8 16.5523 8 16C8 15.4477 7.55228 15 7 15C6.44772 15 6 15.4477 6 16C6 16.5523 6.44772 17 7 17Z" fill="currentColor"></path>
                            <path d="M14 9C14.5523 9 15 8.55228 15 8C15 7.44772 14.5523 7 14 7C13.4477 7 13 7.44772 13 8C13 8.55228 13.4477 9 14 9Z" fill="currentColor"></path>
                            <path d="M16 11C16.5523 11 17 10.5523 17 10C17 9.44772 16.5523 9 16 9C15.4477 9 15 9.44772 15 10C15 10.5523 15.4477 11 16 11Z" fill="currentColor"></path>
                            <path d="M18 13C18.5523 13 19 12.5523 19 12C19 11.4477 18.5523 11 18 11C17.4477 11 17 11.4477 17 12C17 12.5523 17.4477 13 18 13Z" fill="currentColor"></path>
                            <path d="M16 15C16.5523 15 17 14.5523 17 14C17 13.4477 16.5523 13 16 13C15.4477 13 15 13.4477 15 14C15 14.5523 15.4477 15 16 15Z" fill="currentColor"></path>
                            <path d="M14 17C14.5523 17 15 16.5523 15 16C15 15.4477 14.5523 15 14 15C13.4477 15 13 15.4477 13 16C13 16.5523 13.4477 17 14 17Z" fill="currentColor"></path>
                          </svg>
                        </a>
                      {{ end }}
                    </div>

                      <!-- Footer -->
                      <div class="mt-6 pt-4 border-t border-gray-700/50 flex items-center justify-between">
                        <span class="text-sm text-dust-400">
                          <span class="text-moon font-semibold">{{ len .Children }}</span> protocols available
                        </span>
                        <a href="{{ .URL }}" class="text-sm text-nord-frost-pale hover:text-moon transition-colors duration-200 font-medium inline-flex items-center gap-1">
                          Browse all
                          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                          </svg>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            {{ else }}
              <!-- Regular Menu Item -->
              <a href="{{ .URL }}" class="nav-link flex items-center gap-2 px-4 py-3 text-gray-100 hover:bg-dust-900 hover:text-moon rounded transition-all duration-200" style="text-decoration: none; font-size: 1rem;">
                <span class="capitalize">{{ .Name }}</span>
              </a>
            {{ end }}
          {{ end }}
        </div>

        <!-- Mobile Menu Button -->
        <div class="lg:hidden">
          <button id="mobile-menu-button" class="text-gray-100 focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>

      </div>

      <!-- Mobile Menu -->
      <div id="mobile-menu" class="hidden lg:hidden pb-4">
        <div class="pt-2 space-y-1">
          {{ range .Site.Menus.main }}
            {{ if .HasChildren }}
              <!-- Dropdown with children -->
              <div class="px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider">{{ .Name }}</div>
              {{ range .Children }}
                <a href="{{ .URL }}" class="block px-4 py-2 text-gray-100 hover:bg-dust-900 rounded-lg">
                  {{ .Name }}
                </a>
              {{ end }}
            {{ else }}
              <!-- Regular menu item -->
              <a href="{{ .URL }}" class="block px-3 py-2 text-gray-100 hover:bg-dust-900 rounded-lg font-medium">
                {{ .Name }}
              </a>
            {{ end }}
          {{ end }}
        </div>
      </div>

    </div>
  </nav>

  <!-- ============================================ -->
  <!-- MAIN CONTENT AREA                             -->
  <!-- ============================================ -->
  <div class="pt-16">
    <main>
     {{ block "main" . }}{{ end }}
    </main>

    <!-- Footer -->
    <footer>
      {{ if .IsHome }}
        {{ partial "simple-footer.html" . }}
      {{ else }}
        {{ partial "footer.html" . }}
      {{ end }}
    </footer>
  </div>

{{ if .Store.Get "hasMermaid" }}
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script>
{{ end }}

  <!-- Mobile Menu Script -->
  <script>
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');

    mobileMenuButton?.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  </script>
</body>
</html>
