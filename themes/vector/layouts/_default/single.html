<!DOCTYPE html>
<html lang="{{ site.Language.LanguageCode }}" dir="{{ or site.Language.LanguageDirection `ltr` }}" class="scroll-smooth">
<head>
  {{ partial "head.html" . }}
</head>
<body class="bg-dust-800">

  <!-- ============================================ -->
  <!-- FIXED TOP NAVIGATION BAR                        -->
  <!-- ============================================ -->
  <nav class="fixed top-0 left-0 right-0 z-50 bg-dust-800 border-b border-gray-700 mb-4">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center h-16">

        <!-- Logo with Separator -->
        <div class="flex items-center">
          <a href="/" class="flex items-center gap-3">
            <div class="flex items-center">
              <span class="text-lg font-bold text-gray-100">ngeran</span>
              <span class="text-nord-frost-pale">[</span>
              <span class="text-nord-aurora-yellow">io</span>
              <span class="text-nord-frost-pale">]</span>
            </div>
          </a>
          <!-- Separator after logo -->
          <div class="navbar-separator ml-6"></div>
        </div>

        <!-- Desktop Navigation -->
        <div class="hidden lg:flex lg:items-center">
          {{ range .Site.Menus.main.ByWeight }}
            {{ if .HasChildren }}
              <!-- Dropdown Menu with + Sign -->
              <div class="relative group">
                <a href="{{ .URL }}" class="nav-link flex items-center gap-2 px-4 py-3 text-gray-100 hover:bg-dust-900 hover:text-moon rounded transition-all duration-200" style="text-decoration: none; font-size: 1rem;">
                  <span class="text-moon font-bold text-lg leading-none">+</span>
                  <span class="capitalize">{{ .Name }}</span>
                </a>

                <!-- Mega Menu Dropdown -->
                <div class="megamenu-container rounded-lg shadow-lg border border-gray-700 z-50" style="top: 100%;">
                  {{ range .Children }}
                    <a href="{{ .URL }}" class="megamenu-link" style="text-decoration: none;">
                      <div class="megamenu-link-col-1">
                        <div class="megamenu-link-title">{{ .Name }}</div>
                        <div class="megamenu-link-subtitle">{{ title .Identifier }} routing protocols</div>
                      </div>
                    </a>
                  {{ end }}
                </div>
              </div>
            {{ else }}
              <!-- Regular Menu Item -->
              <a href="{{ .URL }}" class="nav-link flex items-center gap-2 px-4 py-3 text-gray-100 hover:bg-dust-900 hover:text-moon rounded transition-all duration-200" style="text-decoration: none; font-size: 1rem;">
                <span class="capitalize">{{ .Name }}</span>
              </a>
            {{ end }}
          {{ end }}
        </div>

        <!-- Mobile Menu Button -->
        <div class="lg:hidden">
          <button id="mobile-menu-button" class="text-gray-100 focus:outline-none">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
          </button>
        </div>

      </div>

      <!-- Mobile Menu -->
      <div id="mobile-menu" class="hidden lg:hidden pb-4">
        <div class="pt-2 space-y-1">
          {{ range .Site.Menus.main }}
            {{ if .HasChildren }}
              <!-- Dropdown with children -->
              <div class="px-3 py-2 text-xs font-semibold text-gray-400 uppercase tracking-wider">{{ .Name }}</div>
              {{ range .Children }}
                <a href="{{ .URL }}" class="block px-4 py-2 text-gray-100 hover:bg-dust-900 rounded-lg">
                  {{ .Name }}
                </a>
              {{ end }}
            {{ else }}
              <!-- Regular menu item -->
              <a href="{{ .URL }}" class="block px-3 py-2 text-gray-100 hover:bg-dust-900 rounded-lg font-medium">
                {{ .Name }}
              </a>
            {{ end }}
          {{ end }}
        </div>
      </div>

    </div>
  </nav>

  <div class="relative flex flex-col grow pt-16">
    <main class="grow">
      <article>
        <div class="max-w-4xl pr-6 sm:px-8 lg:px-12" style="padding-left: 4.5rem !important;">
          <!-- Hero spacer -->
          <div id="hero" class="h-[50px]"></div>

          <!-- Header -->
          <header class="mt-5 max-w-prose" style="padding-left: 4.5rem !important;">
            <h1 class="mt-0 text-4xl font-extrabold text-[#5e81ac]">{{ .Title }}</h1>
            <div class="mt-1 mb-6 text-base text-neutral-500 dark:text-neutral-400 print:hidden">
              <div class="flex flex-row flex-wrap items-center">
                {{ $dateMachine := .Date | time.Format "2006-01-02T15:04:05-07:00" }}
                {{ $dateHuman := .Date | time.Format ":date_long" }}
                <time datetime="{{ $dateMachine }}">{{ $dateHuman }}</time>
                <span class="px-2 text-primary-500">.</span>
                <span>{{ .WordCount }} words</span>
                <span class="px-2 text-primary-500">.</span>
                <span>{{ .ReadingTime }} minutes</span>
              </div>
              <div class="flex flex-row flex-wrap items-center">
                <!--Tags-->
                {{ partial "terms.html" (dict "taxonomy" "tags" "page" .) }}
              </div>
            </div>

            <!-- Author -->
            <div class="flex author">
              {{ $image := resources.Get "author/avatar.png" }}
              <img class="!mt-0 !mb-0 h-24 w-24 rounded-full ltr:mr-4 rtl:ml-4" width="96" height="96"
              alt="{{ $.Site.Params.Author.name | default " Author" }}" src="{{ $image.RelPermalink }}" />
              <div class="place-self-center">
                <div class="text-[0.6rem] uppercase leading-3 text-neutral-500 dark:text-neutral-400">Author</div>
                <div class="font-semibold leading-6 text-neutral-800 dark:text-neutral-300">{{ .Site.Params.author.name }}</div>
                <div class="text-2xl sm:text-lg"></div>
              </div>
            </div>
            <div class="mb-5"></div>
          </header>

          <!--Article and Table Of Content-->
          <section class="flex flex-col max-w-full mt-0 prose dark:prose-invert lg:flex-row">
            <!--Table Of Content-->
            <div class="order-first lg:ml-auto px-0 lg:order-last ltr:lg:pl-8 rtl:lg:pr-8">
              <div class="ltr:pl-5 rtl:pr-5 print:hidden lg:sticky lg:top-[140px]">
                <div class="mt-0 overscroll-contain scrollbar-thin scrollbar-track-neutral-200 scrollbar-thumb-neutral-400 dark:scrollbar-track-neutral-800 dark:scrollbar-thumb-neutral-600 rounded-lg ltr:-ml-5 ltr:pl-5 rtl:-mr-5 rtl:pr-5 hidden lg:block">
                  <div class="min-w-[220px] py-2 border-dotted list-none ltr:-ml-5 ltr:border-l ltr:pl-5 rtl:-mr-5 rtl:border-r rtl:pr-5 dark:border-neutral-600 text-sm">
                    {{ .TableOfContents }}
                  </div>
                </div>
              </div>
            </div>

            <!--Single Blog Post-->
            <div class="min-w-0 min-h-0 max-w-fit" style="padding-left: 4.5rem !important;">
              <div class="article-content max-w-prose mb-20 prose-h3:text-[#5e81ac]">
                <!-- Blog Posts -->
                {{ .RawContent | .RenderString }}
                <!-- Blog Posts -->
              </div>
              {{ if .Site.Params.enableNextPrevPages }}
                {{ partial "article-prevnext.html" . }}
              {{ end }}
            </div>
          </section>
        </div>
      </article>
    </main>
  </div>

  <footer>
    {{ partial "footer-single.html" . }}
  </footer>

{{ if .Store.Get "hasMermaid" }}
  <script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
  </script>
{{ end }}

  <!-- Mobile Menu Script -->
  <script>
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');

    mobileMenuButton?.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  </script>
</body>
</html>
